<link rel="import" href="../hydrolysis/hydrolysis-analyzer.html">
<link rel="import" href="../polymer/polymer.html">
<!--
`<html-help></html-help>` paper-input
@demo demo.html
-->

<dom-module id="html-help">
  <template>
    <hydrolysis-analyzer src="{{src}}" analyzer="{{output}}"></hydrolysis-analyzer>
  </template>
</dom-module>
<script>
Polymer({
  is: "html-help",
  properties: {
    src: String,
    attr: {
      notify: true,
      computed:"getAttr(theElement.properties, theElement.behaviors, output.behaviors)"
    },
    docs: {
      notify: true,
      computed:"getDocs(theElement.desc)"
    },
    theElement: {
      computed: "getElement(output.elements, src)"
    }
  },
  getAttr: function(properties, theElementBehaviors ,allBehaviors) {if (properties) {
    // TODO find attr for paper-input ... 
    return this.addAttrs(properties)
  }},
  getDocs: function(docs) {if (docs) {
    return docs      
  }},
  getElement: function(elements, src) {if (elements && src) {
    for (var index = 0; index < elements.length; ++index) {
      if (-1 !== elements[index].contentHref.indexOf(src)) {
        return elements[index]
      }
    }
  }},
  addAttrs: function(properties) {
    for (var index = 0; index < properties.length; ++index) {
      properties[index].attr = properties[index].name.replace(/[a-z][A-Z]/g,     
function(str, offset) {return str[0] + '-' + str[1].toLowerCase()})
    }
    return properties
  }
})
</script>
